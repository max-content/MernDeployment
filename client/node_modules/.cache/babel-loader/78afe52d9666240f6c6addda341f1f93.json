{"ast":null,"code":"import _slicedToArray from\"/Users/miriamsalzman/Dropbox/CourseWork/MERN/FullstackMERN/BeltExam/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import{navigate}from'@reach/router';import PetForm from'./PetForm';import DeleteButton from'./DeleteButton';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default(function(props){var id=props.id;var _useState=useState(),_useState2=_slicedToArray(_useState,2),pet=_useState2[0],setPet=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loaded=_useState4[0],setLoaded=_useState4[1];useEffect(function(){axios.get('http://localhost:8000/api/petshelter/'+id).then(function(res){setPet(res.data);setLoaded(true);}).catch(function(err){return console.log(err);});},[]);var updatePet=function updatePet(pet){console.log(\"we are trying to update a pet\");axios.put('http://localhost:8000/api/petshelter/'+id,pet).then(function(res){return console.log(res);},navigate(\"/petshelter/all\")).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Update an Pet Information\"}),loaded&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PetForm,{onSubmitProp:updatePet,initialName:pet.name,initialType:pet.type,initialDescription:pet.description,initialSkillOne:pet.skillOne,initialSkillTwo:pet.skillTwo,initialSkillThree:pet.skillThree}),/*#__PURE__*/_jsx(DeleteButton,{id:pet._id,successCallback:function successCallback(){return navigate(\"/petshelter/all\");}})]})]});});","map":{"version":3,"sources":["/Users/miriamsalzman/Dropbox/CourseWork/MERN/FullstackMERN/BeltExam/client/src/components/Update.jsx"],"names":["React","useEffect","useState","axios","navigate","PetForm","DeleteButton","props","id","pet","setPet","loaded","setLoaded","get","then","res","data","catch","err","console","log","updatePet","put","name","type","description","skillOne","skillTwo","skillThree","_id"],"mappings":"6JAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,eAAzB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,C,6IAEA,eAAe,SAAAC,KAAK,CAAI,IACZC,CAAAA,EADY,CACLD,KADK,CACZC,EADY,eAEEN,QAAQ,EAFV,wCAEbO,GAFa,eAERC,MAFQ,8BAGQR,QAAQ,CAAC,KAAD,CAHhB,yCAGbS,MAHa,eAGLC,SAHK,eAKpBX,SAAS,CAAC,UAAM,CACZE,KAAK,CAACU,GAAN,CAAU,wCAA0CL,EAApD,EACCM,IADD,CACM,SAAAC,GAAG,CAAI,CACTL,MAAM,CAACK,GAAG,CAACC,IAAL,CAAN,CACAJ,SAAS,CAAC,IAAD,CAAT,CACH,CAJD,EAKCK,KALD,CAKO,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EALV,EAMH,CAPQ,CAON,EAPM,CAAT,CASA,GAAMG,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAZ,GAAG,CAAI,CACrBU,OAAO,CAACC,GAAR,CAAY,+BAAZ,EACAjB,KAAK,CAACmB,GAAN,CAAU,wCAA0Cd,EAApD,CAAwDC,GAAxD,EACCK,IADD,CACM,SAAAC,GAAG,QAAII,CAAAA,OAAO,CAACC,GAAR,CAAYL,GAAZ,CAAJ,EADT,CAC+BX,QAAQ,CAAC,iBAAD,CADvC,EAECa,KAFD,CAEO,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAFV,EAGH,CALD,CAOA,mBACI,oCACI,iDADJ,CAIKP,MAAM,eACH,wCACI,KAAC,OAAD,EAAS,YAAY,CAAEU,SAAvB,CAAkC,WAAW,CAAEZ,GAAG,CAACc,IAAnD,CAAyD,WAAW,CAAEd,GAAG,CAACe,IAA1E,CAAgF,kBAAkB,CAAEf,GAAG,CAACgB,WAAxG,CAAqH,eAAe,CAAEhB,GAAG,CAACiB,QAA1I,CAAoJ,eAAe,CAAEjB,GAAG,CAACkB,QAAzK,CAAmL,iBAAiB,CAAElB,GAAG,CAACmB,UAA1M,EADJ,cAEI,KAAC,YAAD,EAAc,EAAE,CAAEnB,GAAG,CAACoB,GAAtB,CAA2B,eAAe,CAAI,iCAAMzB,CAAAA,QAAQ,CAAC,iBAAD,CAAd,EAA9C,EAFJ,GALR,GADJ,CAaH,CAlCD","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { navigate } from '@reach/router';\nimport PetForm from './PetForm';\nimport DeleteButton from './DeleteButton';\n\nexport default props => {\n    const { id } = props;\n    const [pet, setPet] = useState();\n    const [loaded, setLoaded] = useState(false);\n\n    useEffect(() => {\n        axios.get('http://localhost:8000/api/petshelter/' + id)\n        .then(res => {\n            setPet(res.data);\n            setLoaded(true);\n        })\n        .catch(err => console.log(err));\n    }, [])\n\n    const updatePet = pet => {\n        console.log(\"we are trying to update a pet\");\n        axios.put('http://localhost:8000/api/petshelter/' + id, pet)\n        .then(res => console.log(res), navigate(\"/petshelter/all\"))\n        .catch(err => console.log(err));\n    }\n\n    return (\n        <div>\n            <h1>\n                Update an Pet Information\n            </h1>\n            {loaded && (\n                <>\n                    <PetForm onSubmitProp={updatePet} initialName={pet.name} initialType={pet.type} initialDescription={pet.description} initialSkillOne={pet.skillOne} initialSkillTwo={pet.skillTwo} initialSkillThree={pet.skillThree} />\n                    <DeleteButton id={pet._id} successCallback = {() => navigate(\"/petshelter/all\") } />\n                </>\n            )}\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}